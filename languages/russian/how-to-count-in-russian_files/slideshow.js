Slideshows=(function(){SlideshowDefaultOptions={transition:1,pause:5000,slidesSelector:"li",slidesNavSelector:"a",slidesNavLinkSelector:"a"};function A(C,B){this.$container=$(C);if(!this.$container){return ;}this.options=SlideshowDefaultOptions;if(typeof (B)!="object"){B={};}Object.extend(this.options,B);
this.$slides=this.$container.select(this.options.slidesSelector);this.$slides.invoke("hide");if(this.options.navigation){this.$nav=$$(this.options.navigation).first();this.addNavigation();}if(this.options.previous){this.previousButton();}if(this.options.next){this.nextButton();}this.length=this.$slides.size();
this.count=0;this.start();window.Slideshows.push(this);}A.prototype={increment:function(){var B=arguments[0]||this.count;B=(B+1)%this.length;return B;},decrement:function(){var B=arguments[0]||this.count;B=(B<=0)?(this.length-1):(B-1);return B;},start:function(){$current=this.$slides[this.count];var B=this;
$current.appear({duration:this.options.transition,afterFinish:function(){B.activeButton();}});this.timeout=window.setTimeout(function(){B.tween();},this.options.pause);},pause:function(){return function(){};},tween:function(){window.clearTimeout(this.timeout);$current=this.$slides[this.count];this.count=this.increment();
$next=this.$slides[this.count];var B=this;if(!this.stop&&$next!=$current){$current.fade({duration:this.options.transition,afterFinish:function(){B.activeButton();}});$next.appear({duration:this.options.transition});}this.timeout=window.setTimeout(function(){B.tween();},this.options.pause);},show:function(C){this.stop=true;
this.count=C;window.clearTimeout(this.timeout);Effect.Queues.get("global").invoke("cancel");this.activeButton(C);this.$slides.each(function(E,D){E.setStyle({display:"none",opacity:1});});$current=this.$slides[C];$current.show();if(!this.options.navStop){var B=this;this.timeout=window.setTimeout(function(){B.stop=false;
B.tween();},this.options.pause);}},addNavigation:function(){var B=this;this.$nav.select(this.options.slidesNavLinkSelector).each(function(D,C){if(B.options.navhover){$(D).observe("mouseover",function(E){B.show(C);});}else{$(D).observe("click",function(E){B.show(C);});}});},activeButton:function(){if(!this.$nav){return ;
}var C=arguments[0]||this.count;var B=this.$nav.select(this.options.slidesNavSelector);B.invoke("removeClassName","active");$current=B[C];$current.addClassName("active");},previousButton:function(){var B=this;$$(this.options.previous).invoke("observe","click",function(D){var C=B.decrement();B.show(C);
});},nextButton:function(){var B=this;$$(this.options.next).invoke("observe","click",function(D){var C=B.increment();B.show(C);});}};Element.addMethods({slideshow:function(C,B){if(!(C=$(C))){return ;}new A(C,B);return C;}});return[];})();